library(data.table)
library(magrittr)
filenames = list.files(path = "Desktop/Crypto analysis/",   pattern="*.csv",  full.names = TRUE)
lapply(filenames, fread) %>%
set_names(filenames) %>%
rbindlist(idcol = "origin")
filenames
filenames = list.files(path = "~/Desktop/Crypto and comms analysis/",   pattern="*.csv",  full.names = TRUE)
lapply(filenames, fread) %>%
set_names(filenames) %>%
rbindlist(idcol = "origin")
filenames = list.files(path = "~/Desktop/Crypto and comms analysis/",   pattern="*.csv",  full.names = TRUE)
lapply(filenames, fread) %>%
set_names(filenames) %>%
rbindlist(idcol = "origin") %>%
mutate(name = filename="${fullfile##*/}")
filenames = list.files(path = "~/Desktop/Crypto and comms analysis/",   pattern="*.csv",  full.names = TRUE)
lapply(filenames, fread) %>%
set_names(filenames) %>%
rbindlist(idcol = "origin") %>%
mutate(name = filename="${fullnames##*/}")
library(tidyverse)
filenames = list.files(path = "~/Desktop/Crypto and comms analysis/",   pattern="*.csv",  full.names = TRUE)
lapply(filenames, fread) %>%
set_names(filenames) %>%
rbindlist(idcol = "origin") %>%
mutate(name = filename="${fullnames##*/}")
filenames = list.files(path = "~/Desktop/Crypto and comms analysis/",   pattern="*.csv",  full.names = TRUE)
lapply(filenames, fread) %>%
set_names(filenames) %>%
rbindlist(idcol = "origin") %>%
mutate(name = filename="${filenames##*/}")
filenames = list.files(path = "~/Desktop/Crypto and comms analysis/",   pattern="*.csv",  full.names = TRUE)
lapply(filenames, fread) %>%
set_names(filenames) %>%
rbindlist(idcol = "origin") %>%
mutate(name = "${filenames##*/}")
filenames_concat = list.files(path = "~/Desktop/Crypto and comms analysis/",   pattern="*.csv",  full.names = FALSE)
filenames_concat
lapply(filenames, fread)
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin")
/str_split
?str_spli
?str_split
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = ?str_split(origin,".csv"))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_split(origin,".csv"))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_split(origin," .csv"))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_split(origin,".csv"))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_split(origin,".csv", simplify = TRUE))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_split(origin,".csv", n=1))
?str_trim
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_trunc(origin,4,side = "right"))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_trunc(origin, 4, side = "left"))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_split(origin,".csv"))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_split(origin,".csv")) %>%
mutate(instrument = str_trunc(instrument,1,"right")))
str_trunc
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_split(origin,".csv"))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") %>%
mutate(instrument = str_split(origin,".csv"))
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") -> data
data
load_csv_files_in_folder <- function(file_path) {
library(data.table)
library(magrittr)
library(tidyverse)
filenames = list.files(path = file_path,   pattern="*.csv",  full.names = TRUE)
filenames_concat = list.files(path = file_path,   pattern="*.csv",  full.names = FALSE)
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") -> fin_data
}
load_csv_files_in_folder("~/Desktop/Crypto and comms analysis/")
load_csv_files_in_folder("~/Desktop/Crypto and comms analysis/")
##-- read in all csvs files within a folder
load_csv_files_in_folder <- function(file_path) {
library(data.table)
library(magrittr)
library(tidyverse)
filenames = list.files(path = file_path,   pattern="*.csv",  full.names = TRUE)
filenames_concat = list.files(path = file_path,   pattern="*.csv",  full.names = FALSE)
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") -> fin_data
}
load_csv_files_in_folder("~/Desktop/Crypto and comms analysis/")
load_csv_files_in_folder("~/Desktop/Crypto and comms analysis/")
load_csv_files_in_folder("~/Desktop/Crypto and comms analysis/")
load_csv_files_in_folder
filenames = list.files(path = "~/Desktop/Crypto and comms analysis/",   pattern="*.csv",  full.names = TRUE)
filenames_concat = list.files(path = "~/Desktop/Crypto and comms analysis/",   pattern="*.csv",  full.names = FALSE)
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") -> fin_data
##-- read in all csvs files within a folder
load_csv_files_in_folder <- function(file_path) {
library(data.table)
library(magrittr)
library(tidyverse)
filenames = list.files(path = file_path,   pattern="*.csv",  full.names = TRUE)
filenames_concat = list.files(path = file_path,   pattern="*.csv",  full.names = FALSE)
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") -> fin_data
}
load_csv_files_in_folder("~/Desktop/Crypto and comms analysis/")
load_csv_files_in_folder('"~/Desktop/Crypto and comms analysis/"')
load_csv_files_in_folder(c("~/Desktop/Crypto and comms analysis/"))
load_csv_files_in_folder
load_csv_files_in_folder("/Desktop/Crypto and comms analysis/")
load_csv_files_in_folder("~/Desktop/Crypto and comms analysis/")
file_path = "~/Desktop/Crypto and comms analysis/"
load_csv_files_in_folder(file_path)
load_csv_files_in_folder(file_path)
##-- read in all csvs files within a folder
load_csv_files_in_folder <- function(file_path) {
library(data.table)
library(magrittr)
library(tidyverse)
filenames = list.files(path = file_path,   pattern="*.csv",  full.names = TRUE)
filenames_concat = list.files(path = file_path,   pattern="*.csv",  full.names = FALSE)
lapply(filenames, fread) %>%
set_names(filenames_concat) %>%
rbindlist(idcol = "origin") -> fin_data
fin_data
}
file_path = "~/Desktop/Crypto and comms analysis/"
load_csv_files_in_folder(file_path)
fin_data
load_csv_files_in_folder(file_path)
data <- load_csv_files_in_folder(file_path)
data
